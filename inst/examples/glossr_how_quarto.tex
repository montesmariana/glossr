% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  letterpaper,
  DIV=11,
  numbers=noendperiod]{scrartcl}

\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
% Make \paragraph and \subparagraph free-standing
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{241,243,245}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.40,0.45,0.13}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\ExtensionTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.28,0.35,0.67}{#1}}
\newcommand{\ImportTok}[1]{\textcolor[rgb]{0.00,0.46,0.62}{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\NormalTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.07,0.07,0.07}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\newlength{\cslhangindent}
\setlength{\cslhangindent}{1.5em}
\newlength{\csllabelwidth}
\setlength{\csllabelwidth}{3em}
\newlength{\cslentryspacingunit} % times entry-spacing
\setlength{\cslentryspacingunit}{\parskip}
\newenvironment{CSLReferences}[2] % #1 hanging-ident, #2 entry spacing
 {% don't indent paragraphs
  \setlength{\parindent}{0pt}
  % turn on hanging indent if param 1 is 1
  \ifodd #1
  \let\oldpar\par
  \def\par{\hangindent=\cslhangindent\oldpar}
  \fi
  % set entry spacing
  \setlength{\parskip}{#2\cslentryspacingunit}
 }%
 {}
\usepackage{calc}
\newcommand{\CSLBlock}[1]{#1\hfill\break}
\newcommand{\CSLLeftMargin}[1]{\parbox[t]{\csllabelwidth}{#1}}
\newcommand{\CSLRightInline}[1]{\parbox[t]{\linewidth - \csllabelwidth}{#1}\break}
\newcommand{\CSLIndent}[1]{\hspace{\cslhangindent}#1}

\usepackage{expex}
\let\expexgla\gla
\AtBeginDocument{\let\gla\expexgla}
\usepackage{fontspec}
\usepackage{xeCJK}
\KOMAoption{captions}{tableheading}
\makeatletter
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[many]{tcolorbox}}
\makeatother
\makeatletter
\@ifundefined{shadecolor}{\definecolor{shadecolor}{rgb}{.97, .97, .97}}
\makeatother
\makeatletter
\makeatother
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Using the glossr package},
  pdfauthor={Mariana Montes},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}

\title{Using the glossr package}
\author{Mariana Montes}
\date{2022-08-18}

\begin{document}
\maketitle
\ifdefined\Shaded\renewenvironment{Shaded}{\begin{tcolorbox}[frame hidden, enhanced, boxrule=0pt, breakable, sharp corners, interior hidden, borderline west={3pt}{0pt}{shadecolor}]}{\end{tcolorbox}}\fi

\hypertarget{introduction}{%
\section{Introduction}\label{introduction}}

The \{glossr\} package offers useful functions to recreate interlinear
glosses in R Markdown texts. The immediate solution for a \(LaTeX\)
output is to use a specific library, such as \{gb4e\} (the one I knew
when this package was born) or \{expex\} (the one this package uses
now). If PDF output is enough for you, you can still use this package to
automatically print them in an R-chunk, minimizing typos\footnote{Most
  of my code is designed to avoid typos. Let's just say that this
  package would have taken a few hours less if I didn't constantly write
  \emph{leizpig} instead of \emph{leipzig}.}, and even generate them
automatically from a dataframe with your examples! But chances are, PDF
is not enough for you, and you would also like a nice rendering (or at
least \emph{some} rendering) of your interlinear glosses in HTML as
well\ldots{} and why not, MS Word! This offers some challenges, because
you would need to figure out \emph{how} to render them to begin with,
and neither the way to print them nor the way to reference them are
compatible across output formats. I took that pain and packaged it so
you don't need to feel it.

You can start using \texttt{glossr} in an R Markdown file by calling the
library and then \texttt{use\_glossr()} to activate some background
stuff. Mainly, this function informs all the other functions whether you
are using \(LaTeX\), HTML\footnote{You can also choose between the
  default HTML implementation, with
  \href{https://github.com/bdchauvette/leipzig.js/}{leipzig.js}, or a
  ``legacy'' implementation with simple tooltips and up to two glossing
  lines; do so by running \texttt{use\_glossr("tooltip")}.} or neither,
in which case it assumes you have Word output. This vignette has been
run in
\href{https://github.com/montesmariana/glossr/tree/main/inst/examples}{all
three formats} by changing the output format to
\texttt{bookdown::pdf\_document2}, which renders a PDF file;
\texttt{bookdown::html\_document2} and \texttt{rmdformats::readthedown},
which render HTML files; and \texttt{officedown::rdocx\_document}, which
renders an MS Word file (Xie 2022; Gohel and Ross 2022; Barnier 2022).
As you can see in \texttt{vignette("styling")}, \texttt{use\_glossr()}
also takes some variables to set up document-wide styling options for
specific parts of your glosses. The code below sets the name of the
source to render in boldface and the first line of each gloss in
italics.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{devtools}\SpecialCharTok{::}\FunctionTok{load\_all}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
i Loading glossr
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# library(glossr)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{use\_glossr}\NormalTok{(}\AttributeTok{styling =} \FunctionTok{list}\NormalTok{(}
  \AttributeTok{source =} \StringTok{"b"}\NormalTok{,}
  \AttributeTok{first =} \StringTok{"i"}
\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Setting up the `latex` engine.
\end{verbatim}

\hypertarget{basic-usage}{%
\section{Basic usage}\label{basic-usage}}

When you want to include an example, create a gloss with
\texttt{as\_gloss()} and call it inside a normal chunk. There are
currently four named, optional arguments that will be treated specially:

\begin{itemize}
\item
  \texttt{label} will be interpreted as the label for cross-references;
\item
  \texttt{source} will be interpreted as text for a non-aligned first
  line, e.g.~a reference to the source of your example;
\item
  \texttt{translation} will be interpreted as text for a free
  translation;
\item
  \texttt{trans\_glosses} indicates what character should surround the
  translation, by default \texttt{"}. (See
  \texttt{vignette("styling")}.)
\end{itemize}

All other values will be interpreted as lines to be aligned and
reproduced in the order given, but only up to 3 lines are
allowed.\footnote{Note that if you use Chinese characters you will need
  to add some \(LaTeX\) packages (namely \{fontspec\} and \{xeCJK\}).
  You can do that either by adding them to
  \href{https://bookdown.org/yihui/rmarkdown-cookbook/latex-preamble.html}{the
  \texttt{header-includes} section} or
  \href{https://bookdown.org/yihui/rmarkdown-cookbook/latex-extra.html}{to
  the \texttt{extra\_dependencies} list} inside the
  \texttt{pdf\_document} output section in your YAML. Thanks to Thomas
  Van Hoey for offering me the example and pointing this out.}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my\_gloss }\OtherTok{\textless{}{-}} \FunctionTok{as\_gloss}\NormalTok{(}
  \StringTok{"她 哇的一聲 大 哭起來，"}\NormalTok{,}
  \StringTok{"tā wā=de{-}yì{-}shēng dà kū{-}qǐlái,"}\NormalTok{,}
  \StringTok{"TSG waa.IDEO{-}LINK{-}one{-}sound big cry{-}inch"}\NormalTok{,}
  \AttributeTok{translation =} \StringTok{"Waaaaa, she began to wail."}\NormalTok{,}
  \AttributeTok{label =} \StringTok{"my{-}label"}\NormalTok{,}
  \AttributeTok{source =} \StringTok{"ASBC (nº 100622)"}
\NormalTok{)}
\NormalTok{my\_gloss}
\end{Highlighting}
\end{Shaded}

\lingset{exskip=0pt,belowglpreambleskip=0pt,aboveglftskip=0pt,everyglpreamble=\bfseries,everygla=\itshape,everyglb=,everyglc=,everyglft=}

\ex\label{my-label} \begingl \glpreamble ASBC (nº 100622)// \gla 她
哇的一聲 大 哭起來，// \glb tā wā=de-yì-shēng dà kū-qǐlái,// \glc TSG
waa.IDEO-LINK-one-sound big cry-inch// \glft ``Waaaaa, she began to
wail.''// \endgl \xe

The label given to \texttt{as\_gloss()} allows you to cross-reference
the example: in PDF this looks like
\texttt{example\ (\textbackslash{}ref\{my-label\})}, whereas in HTML and
Word you would use \texttt{example\ (@my-label)}. What should YOU do?
\texttt{gloss()} can be used inline to generate a reference for either
PDF or HTML, depending on the output of your file: (\ref{my-label}) in
this case.

If you have many examples, you might want to keep them in their own
file, if you don't have them like that already. \texttt{glossr} offers a
small dataset for testing, called \texttt{data(glosses)}.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(magrittr)}
\FunctionTok{library}\NormalTok{(dplyr) }\CommentTok{\# for select() and filter()}
\FunctionTok{data}\NormalTok{(glosses)}
\NormalTok{glosses }\OtherTok{\textless{}{-}}\NormalTok{ glosses }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{select}\NormalTok{(original, parsed, translation, label, source) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{source =} \FunctionTok{paste0}\NormalTok{(}\StringTok{"("}\NormalTok{, source, }\StringTok{")"}\NormalTok{))}
\NormalTok{glosses}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 5 x 5
  original                                           parsed trans~1 label source
  <chr>                                              <chr>  <chr>   <chr> <chr> 
1 Mér er heitt/kalt                                  "\\te~ I am h~ feel~ (Eina~
2 Hace calor/frío                                    "make~ It is ~ amb-~ (Pust~
3 Ik heb het koud                                    "\\te~ I am c~ feel~ (Ross~
4 Kotae-nagara otousan to okaasan wa honobonoto ata~ "repl~ While ~ hear~ (Shin~
5 Ainiku sonna shumi wa nai. Tsumetai-none. Kedaru-~ "unfo~ Unfort~ lang~ (Shin~
# ... with abbreviated variable name 1: translation
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{glosses}\SpecialCharTok{$}\NormalTok{label}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "feel-icelandic"  "amb-spanish"     "feel-dutch"      "heartwarming-jp"
[5] "languid-jp"     
\end{verbatim}

Assuming you have them in a table with columns matching the arguments of
\texttt{as\_gloss()}, you can give it to \texttt{gloss\_df()} directly
and it will do the job. That is: columns named ``translation'',
``source'', ``label'' and ``trans\_glosses'' will be interpreted as
those arguments, and all the others will be read as lines to align
regardless of their column names. This table has more columns than we
need, so we will only select the right ones and print the glosses of the
first three rows. Note that the values in the ``label'' column will be
used as labels:
\texttt{\textasciigrave{}r\ gloss("feel-icelandic")\textasciigrave{}}
will return (\ref{feel-icelandic}).

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{gloss\_df}\NormalTok{(}\FunctionTok{head}\NormalTok{(glosses, }\DecValTok{3}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\lingset{exskip=0pt,belowglpreambleskip=0pt,aboveglftskip=0pt,everyglpreamble=\bfseries,everygla=\itshape,everyglb=,everyglc=,everyglft=}

\ex\label{feel-icelandic} \begingl \glpreamble (Einarsson 1945:170)//
\gla Mér er heitt/kalt// \glb \textsc{1sg.dat} \textsc{cop.1sg.prs}
hot/cold.\textsc{a}// \glft ``I am hot/cold.''// \endgl \xe

\ex\label{amb-spanish} \begingl \glpreamble (Pustet 2015:908)//
\gla Hace calor/frío// \glb make.\textsc{3sg.prs}
heat/cold.\textsc{.n.a}// \glft ``It is hot/cold; literally: it makes
heat/cold.''// \endgl \xe

\ex\label{feel-dutch} \begingl \glpreamble (Ross 1996:204)// \gla Ik heb
het koud// \glb \textsc{1sg} have \textsc{3sg} \textsc{cold.a}//
\glft ``I am cold; literally: I have it cold.''// \endgl \xe

\hypertarget{pdf-only-features}{%
\section{PDF-only features}\label{pdf-only-features}}

This package also offers a few extensions when working on PDF output. On
the one hand, \texttt{gloss\_list()} allows you to nest a list of
glosses and have both a reference for the list and for each individual
item. \textbf{This will not work in HTML or Word}, which will just keep
the numbering on the top level. But on PDF, given the function on some
examples from Shindo (2015), we can use
\texttt{\textasciigrave{}r\ gloss("jp")\textasciigrave{}} to reference
(\ref{jp}), or
\texttt{\textasciigrave{}r\ gloss("heartwarming-jp")\textasciigrave{}}
and \texttt{\textasciigrave{}r\ gloss("languid-jp")\textasciigrave{}} to
reference (\ref{heartwarming-jp}) and (\ref{languid-jp}).

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{filter}\NormalTok{(glosses, }\FunctionTok{endsWith}\NormalTok{(label, }\StringTok{"jp"}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{gloss\_df}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{gloss\_list}\NormalTok{(}\AttributeTok{listlabel =} \StringTok{"jp"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\lingset{exskip=0pt,belowglpreambleskip=0pt,aboveglftskip=0pt,everyglpreamble=\bfseries,everygla=\itshape,everyglb=,everyglc=,everyglft=}

\pex\label{jp} \a\label{heartwarming-jp} \begingl \glpreamble (Shindo
2015:660)// \gla Kotae-nagara otousan to okaasan wa honobonoto atatakai2
mono ni tsutsum-areru kimochi ga shi-ta.// \glb reply-while father and
mother \textsc{top} heartwarming warm thing with surround-\textsc{pass}
feeling \textsc{nom} do-\textsc{pst}// \glft ``While replying (to your
question), Father and Mother felt like they were surrounded by something
heart warming.''// \endgl  \a\label{languid-jp}
\begingl \glpreamble (Shindo 2015:660)// \gla Ainiku sonna shumi wa nai.
Tsumetai-none. Kedaru-souna koe da-tta.// \glb unfortunately such
interest \textsc{top} not.exist cold-\textsc{emph} languid-seem voice
\textsc{cop-pst}// \glft ``Unfortunately I never have such an interest.
You are so cold. (Her) voice sounded languid.''// \endgl  \xe

Finally, it might be the case that you want to apply \(LaTeX\)
formatting to a long string of elements for your first lines of glosses,
e.g.~set half of your example in italics. In order to facilitate
applying the same formatting to each individual element, this package
offers you \texttt{gloss\_format\_words()}, which you can implement to
the strings given to \texttt{as\_gloss()}.

Internally, \texttt{glossr} will try to parse \(LaTeX\) formatting into
HTML but currently it doesn't parse it to Word or read HTML/markdown
tags. (But see \texttt{vignette("styling")}.)

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{gloss\_format\_words}\NormalTok{(}\StringTok{"A long piece of text"}\NormalTok{, }\StringTok{"textit"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "\\textit{A} \\textit{long} \\textit{piece} \\textit{of} \\textit{text}"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my\_gloss }\OtherTok{\textless{}{-}} \FunctionTok{as\_gloss}\NormalTok{(}
  \AttributeTok{original =} \FunctionTok{gloss\_format\_words}\NormalTok{(}\StringTok{"Hace calor/frío"}\NormalTok{, }\StringTok{"textbf"}\NormalTok{),}
  \AttributeTok{parsed =} \StringTok{"make.3SG.PRS heat/cold.N.A"}\NormalTok{,}
  \AttributeTok{translation =} \StringTok{"\textquotesingle{}It is hot/cold\textquotesingle{}"}\NormalTok{,}
  \AttributeTok{label =} \StringTok{"formatted"}
\NormalTok{)}
\NormalTok{my\_gloss}
\end{Highlighting}
\end{Shaded}

\lingset{exskip=0pt,belowglpreambleskip=0pt,aboveglftskip=0pt,everyglpreamble=\bfseries,everygla=\itshape,everyglb=,everyglc=,everyglft=}

\ex\label{formatted} \begingl \gla \textbf{Hace} \textbf{calor/frío}//
\glb make.3SG.PRS heat/cold.N.A// \glft ``\,`It is hot/cold'\,''//
\endgl \xe

\hypertarget{about-the-formats}{%
\section{About the formats}\label{about-the-formats}}

The Latex output writes your glosses with the format required by the
\href{https://ctan.org/pkg/expex?lang=en}{\{expex\} package}. The
default HTML rendering uses
\href{https://github.com/bdchauvette/leipzig.js/}{leipzig.js 0.8.0}
(and, of course, \{htmltools\} (Cheng et al. 2021) to read it with R).
The Word output is an invisible table generated with \{flextable\}
(Gohel 2022). Note that if the translation is very long it could exceed
the margins of the file in Word (as is the case of example
(\ref{heartwarming-jp})), and at least for the time being you need to
fix it manually by selecting the translation and reducing the width of
its cell.

If you are familiar with these tools and would like to suggests
expansions or contribute to the package, go ahead, I would love to hear
from you!

\hypertarget{references}{%
\section*{References}\label{references}}
\addcontentsline{toc}{section}{References}

\hypertarget{refs}{}
\begin{CSLReferences}{1}{0}
\leavevmode\vadjust pre{\hypertarget{ref-R-rmdformats}{}}%
Barnier, Julien. 2022. \emph{Rmdformats: HTML Output Formats and
Templates for 'Rmarkdown' Documents}.
\url{https://CRAN.R-project.org/package=rmdformats}.

\leavevmode\vadjust pre{\hypertarget{ref-R-htmltools}{}}%
Cheng, Joe, Carson Sievert, Barret Schloerke, Winston Chang, Yihui Xie,
and Jeff Allen. 2021. \emph{Htmltools: Tools for HTML}.
\url{https://github.com/rstudio/htmltools}.

\leavevmode\vadjust pre{\hypertarget{ref-R-flextable}{}}%
Gohel, David. 2022. \emph{Flextable: Functions for Tabular Reporting}.
\url{https://CRAN.R-project.org/package=flextable}.

\leavevmode\vadjust pre{\hypertarget{ref-R-officedown}{}}%
Gohel, David, and Noam Ross. 2022. \emph{Officedown: Enhanced r Markdown
Format for Word and PowerPoint}.
\url{https://CRAN.R-project.org/package=officedown}.

\leavevmode\vadjust pre{\hypertarget{ref-shindo_2015}{}}%
Shindo, Mika. 2015. {``Subdomains of Temperature Concepts in
{Japanese}.''} In \emph{The {Linguistics} of {Temperature}}, edited by
Maria Koptjevskaja-Tamm, 639--65. Typological {Studies} in {Language}.
{Amsterdam}: {John Benjamins Publishing Company}.

\leavevmode\vadjust pre{\hypertarget{ref-R-bookdown}{}}%
Xie, Yihui. 2022. \emph{Bookdown: Authoring Books and Technical
Documents with r Markdown}.
\url{https://CRAN.R-project.org/package=bookdown}.

\end{CSLReferences}



\end{document}
