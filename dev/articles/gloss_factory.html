<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="glossr">
<title>Using dataframes • glossr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using dataframes">
<meta property="og:description" content="glossr">
<meta property="og:image" content="https://montesmariana.github.io/glossr/logo.png">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">glossr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.6.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/glossr.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/gloss_factory.html">Using dataframes</a>
    <a class="dropdown-item" href="../articles/glossr_how.html">Using the glossr package</a>
    <a class="dropdown-item" href="../articles/styling.html">Styling glosses</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/montesmariana/glossr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="gloss_factory_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="gloss_factory_files/leipzig-0.8.0/leipzig.css" rel="stylesheet">
<script src="gloss_factory_files/leipzig-0.8.0/leipzig.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Using dataframes</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/montesmariana/glossr/blob/HEAD/vignettes/gloss_factory.Rmd" class="external-link"><code>vignettes/gloss_factory.Rmd</code></a></small>
      <div class="d-none name"><code>gloss_factory.Rmd</code></div>
    </div>

    
    
<p>The glossr package encourages you to keep your examples in one dataframe that you can extract glosses from. You can filter it based on the label names or any other variables and print a series of glosses next to each other with one call.</p>
<p>If you like this feature and you have, for example, a dataframe called <code>glosses</code>, you might find yourself calling variations of <code>gloss_df(filter(glosses, "my-label"))</code> multiple times in a text. This vignette will show you how to work with <code><a href="../reference/gloss_factory.html">gloss_factory()</a></code> so that you only need to type <code>my_gloss("my-label")</code> instead. In addition, this function performs some validation on your dataset to avoid undesired output.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://montesmariana.github.io/glossr/">glossr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org" class="external-link">stringr</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/use_glossr.html">use_glossr</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Setting up the <span style="font-style: italic;">leipzig</span> engine.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">glosses</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="create-a-gloss-factory">Create a gloss factory<a class="anchor" aria-label="anchor" href="#create-a-gloss-factory"></a>
</h2>
<p>The first thing you need to do is assign the return value of <code><a href="../reference/gloss_factory.html">gloss_factory()</a></code> to a short variable that works for you. I recommend trying this in the console, and then calling it in a setup R chunk that doesn’t print messages or warnings.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">by_label</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gloss_factory.html">gloss_factory</a></span><span class="op">(</span><span class="va">glosses</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The following columns will be used for the gloss texts, in the following order:</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `source` (not aligned!)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `original`, `parsed`, and `language` (aligned columns)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `translation` (not aligned!)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> The `label` column will be used for labels.</span></span></code></pre></div>
<p>By default (unless <code>verbose = FALSE</code>), <code><a href="../reference/gloss_factory.html">gloss_factory()</a></code> prints a few messages after checking the dataframe that was provided: it checks whether there are <code>source</code>, <code>translation</code> and <code>label</code> columns (“not aligned”, because they are printed as running text) and which would be the remaining columns with content for the text lines (“aligned”, because they are aligned to each other word by word). Notice how here it includes the <code>language</code> column in the group of aligned lines, which we don’t want, so we would prefer to remove it.</p>
<p>If any of the expected columns (<code>source</code>, <code>translation</code> or <code>label</code>) were not present, it would print a warning. These are just warnings: maybe it’s exactly what <em>you</em> are expecting, and that’s ok.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">by_label</span> <span class="op">&lt;-</span> <span class="va">glosses</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">language</span>, <span class="op">-</span><span class="va">translation</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/gloss_factory.html">gloss_factory</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The following columns will be used for the gloss texts, in the following order:</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `source` (not aligned!)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `original` and `parsed` (aligned columns)</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> `translation` (not aligned!)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> The `label` column will be used for labels.</span></span></code></pre></div>
<p>If there were too many text columns, it would also warn you:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">by_label</span> <span class="op">&lt;-</span> <span class="va">glosses</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>trans <span class="op">=</span> <span class="va">translation</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/gloss_factory.html">gloss_factory</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> There are 4 columns that can be printed as text: `original`, `parsed`,</span></span>
<span><span class="co">#&gt; `trans`, and `language`. Only the first three will be used.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The following columns will be used for the gloss texts, in the following order:</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `source` (not aligned!)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `original`, `parsed`, and `trans` (aligned columns)</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> `translation` (not aligned!)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> The `label` column will be used for labels.</span></span></code></pre></div>
<p>We can either remove the extra column from the dataframe before giving it to <code><a href="../reference/gloss_factory.html">gloss_factory()</a></code> or add its name to the <code>ignore_columns</code> argument. This allows us to use the column for filtering without <code><a href="../reference/gloss_df.html">gloss_df()</a></code> finding out of its existence. Other kinds of modifications, however, would have to be performed beforehand.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">modified_glosses</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="va">glosses</span>, source <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"("</span>, <span class="va">source</span>, <span class="st">")"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">by_label</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gloss_factory.html">gloss_factory</a></span><span class="op">(</span><span class="va">modified_glosses</span>, ignore_columns <span class="op">=</span> <span class="st">"language"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The following columns will be used for the gloss texts, in the following order:</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `source` (not aligned!)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `original` and `parsed` (aligned columns)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `translation` (not aligned!)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> The `label` column will be used for labels.</span></span></code></pre></div>
<p><code><a href="../reference/gloss_factory.html">gloss_factory()</a></code> is a <a href="https://adv-r.hadley.nz/function-factories.html" class="external-link">function factory</a>: its output is a function.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">by_label</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "function"</span></span></code></pre></div>
<p>This means that you call <code><a href="../reference/gloss_factory.html">gloss_factory()</a></code> once at the beginning, and then your created function as many times as you need. Here the function is called <code>by_label()</code>, but you can choose the name that suits you best. As you can see below, <code>by_label("heartwarming-jp")</code> is equivalent to <code>gloss_df(filter(modified_glosses, label == "heartwarming-jp"))</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">by_label</span><span class="op">(</span><span class="st">"heartwarming-jp"</span><span class="op">)</span></span></code></pre></div>
<ol class="example" style="list-style-type: decimal">
<li>
<style>.gloss__line--original {font-style:normal;font-weight:normal} .gloss__word .gloss__line:first-child {font-style:normal;font-weight:normal} .gloss__word .gloss__line--2 {font-style:normal;font-weight:normal} .gloss__word .gloss__line--3 {font-style:normal;font-weight:normal} .gloss__line--free {font-style:normal;font-weight:normal}</style>
<div data-gloss="">
<p class="gloss__line--original">
(Shindo 2015:660)
</p>
<p>
Kotae-nagara otousan to okaasan wa honobonoto atatakai2 mono ni tsutsum-areru kimochi ga shi-ta.
</p>
<p>
reply-while father and mother TOP heartwarming warm thing with surround-PASS feeling NOM do-PST
</p>
<p class="gloss__line--free">
“While replying (to your question), Father and Mother felt like they were surrounded by something heart warming.”
</p>
</div>
<script>document.addEventListener('DOMContentLoaded', function() {Leipzig({lastLineFree: false}).gloss();});</script>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="filter-by-label-or-id">Filter by label or id<a class="anchor" aria-label="anchor" href="#filter-by-label-or-id"></a>
</h2>
<p>By default, the function created by <code><a href="../reference/gloss_factory.html">gloss_factory()</a></code> will take a label or set of labels and use it for filtering. In principle, the call below is equivalent to <code>gloss_df(filter(modified_glosses, label %in% c("heartwarming-jp", "languid-jp", "feel-dutch")))</code>. However, unlike <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter()</a></code>, it keeps the requested order of your items!</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">by_label</span><span class="op">(</span><span class="st">"heartwarming-jp"</span>, <span class="st">"languid-jp"</span>, <span class="st">"feel-dutch"</span><span class="op">)</span></span></code></pre></div>
<ol start="2" class="example" style="list-style-type: decimal">
<li>
<style>.gloss__line--original {font-style:normal;font-weight:normal} .gloss__word .gloss__line:first-child {font-style:normal;font-weight:normal} .gloss__word .gloss__line--2 {font-style:normal;font-weight:normal} .gloss__word .gloss__line--3 {font-style:normal;font-weight:normal} .gloss__line--free {font-style:normal;font-weight:normal}</style>
<div data-gloss="">
<p class="gloss__line--original">
(Shindo 2015:660)
</p>
<p>
Kotae-nagara otousan to okaasan wa honobonoto atatakai2 mono ni tsutsum-areru kimochi ga shi-ta.
</p>
<p>
reply-while father and mother TOP heartwarming warm thing with surround-PASS feeling NOM do-PST
</p>
<p class="gloss__line--free">
“While replying (to your question), Father and Mother felt like they were surrounded by something heart warming.”
</p>
</div>
</li>
<li>
<style>.gloss__line--original {font-style:normal;font-weight:normal} .gloss__word .gloss__line:first-child {font-style:normal;font-weight:normal} .gloss__word .gloss__line--2 {font-style:normal;font-weight:normal} .gloss__word .gloss__line--3 {font-style:normal;font-weight:normal} .gloss__line--free {font-style:normal;font-weight:normal}</style>
<div data-gloss="">
<p class="gloss__line--original">
(Shindo 2015:660)
</p>
<p>
Ainiku sonna shumi wa nai. Tsumetai-none. Kedaru-souna koe da-tta.
</p>
<p>
unfortunately such interest TOP not.exist cold-EMPH languid-seem voice COP-PST
</p>
<p class="gloss__line--free">
“Unfortunately I never have such an interest. You are so cold. (Her) voice sounded languid.”
</p>
</div>
</li>
<li>
<style>.gloss__line--original {font-style:normal;font-weight:normal} .gloss__word .gloss__line:first-child {font-style:normal;font-weight:normal} .gloss__word .gloss__line--2 {font-style:normal;font-weight:normal} .gloss__word .gloss__line--3 {font-style:normal;font-weight:normal} .gloss__line--free {font-style:normal;font-weight:normal}</style>
<div data-gloss="">
<p class="gloss__line--original">
(Ross 1996:204)
</p>
<p>
Ik heb het koud
</p>
<p>
1SG have 3SG COLD.A
</p>
<p class="gloss__line--free">
“I am cold; literally: I have it cold.”
</p>
</div>
</li>
</ol>
<p>You could also set a different column for your ids with the <code>id_column</code> argument. <code><a href="../reference/gloss_factory.html">gloss_factory()</a></code> will warn you if the values are not unique (in case you were expecting them to).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">by_language</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gloss_factory.html">gloss_factory</a></span><span class="op">(</span><span class="va">modified_glosses</span>, id_column <span class="op">=</span> <span class="st">"language"</span>, ignore_columns <span class="op">=</span> <span class="st">"language"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The following columns will be used for the gloss texts, in the following order:</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `source` (not aligned!)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `original` and `parsed` (aligned columns)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `translation` (not aligned!)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> The `label` column will be used for labels.</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> The values in `language` are not unique. Only the first match of repeated ids will be returned.</span></span>
<span><span class="fu">by_language</span><span class="op">(</span><span class="st">"Icelandic"</span><span class="op">)</span></span></code></pre></div>
<ol start="5" class="example" style="list-style-type: decimal">
<li>
<style>.gloss__line--original {font-style:normal;font-weight:normal} .gloss__word .gloss__line:first-child {font-style:normal;font-weight:normal} .gloss__word .gloss__line--2 {font-style:normal;font-weight:normal} .gloss__word .gloss__line--3 {font-style:normal;font-weight:normal} .gloss__line--free {font-style:normal;font-weight:normal}</style>
<div data-gloss="">
<p class="gloss__line--original">
(Einarsson 1945:170)
</p>
<p>
Mér er heitt/kalt
</p>
<p>
1SG.DAT COP.1SG.PRS hot/cold.A
</p>
<p class="gloss__line--free">
“I am hot/cold.”
</p>
</div>
</li>
</ol>
<p>You will also get a warning if one of your requested ids is not in your dataset.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">by_language</span><span class="op">(</span><span class="st">"Japanese"</span>, <span class="st">"Mandarin"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> The following ids are not present in the dataset:</span></span>
<span><span class="co">#&gt; • Mandarin</span></span></code></pre></div>
<ol start="6" class="example" style="list-style-type: decimal">
<li>
<style>.gloss__line--original {font-style:normal;font-weight:normal} .gloss__word .gloss__line:first-child {font-style:normal;font-weight:normal} .gloss__word .gloss__line--2 {font-style:normal;font-weight:normal} .gloss__word .gloss__line--3 {font-style:normal;font-weight:normal} .gloss__line--free {font-style:normal;font-weight:normal}</style>
<div data-gloss="">
<p class="gloss__line--original">
(Shindo 2015:660)
</p>
<p>
Kotae-nagara otousan to okaasan wa honobonoto atatakai2 mono ni tsutsum-areru kimochi ga shi-ta.
</p>
<p>
reply-while father and mother TOP heartwarming warm thing with surround-PASS feeling NOM do-PST
</p>
<p class="gloss__line--free">
“While replying (to your question), Father and Mother felt like they were surrounded by something heart warming.”
</p>
</div>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="filter-with-other-conditional-statements">Filter with other conditional statements<a class="anchor" aria-label="anchor" href="#filter-with-other-conditional-statements"></a>
</h2>
<p>While filtering by label name might be a common circumstance, you might want a bit more freedom. It is possible to create a different function with the <code>use_conditionals</code> argument. In that case, the new function will take whatever conditionals you want to ask and send them to <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter()</a></code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">by_cond</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gloss_factory.html">gloss_factory</a></span><span class="op">(</span><span class="va">modified_glosses</span>, use_conditionals <span class="op">=</span> <span class="cn">TRUE</span>, ignore_columns <span class="op">=</span> <span class="st">"language"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The following columns will be used for the gloss texts, in the following order:</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `source` (not aligned!)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `original` and `parsed` (aligned columns)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> `translation` (not aligned!)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> The `label` column will be used for labels.</span></span>
<span><span class="fu">by_cond</span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_starts.html" class="external-link">str_ends</a></span><span class="op">(</span><span class="va">label</span>, <span class="st">"jp"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<ol start="7" class="example" style="list-style-type: decimal">
<li>
<style>.gloss__line--original {font-style:normal;font-weight:normal} .gloss__word .gloss__line:first-child {font-style:normal;font-weight:normal} .gloss__word .gloss__line--2 {font-style:normal;font-weight:normal} .gloss__word .gloss__line--3 {font-style:normal;font-weight:normal} .gloss__line--free {font-style:normal;font-weight:normal}</style>
<div data-gloss="">
<p class="gloss__line--original">
(Shindo 2015:660)
</p>
<p>
Kotae-nagara otousan to okaasan wa honobonoto atatakai2 mono ni tsutsum-areru kimochi ga shi-ta.
</p>
<p>
reply-while father and mother TOP heartwarming warm thing with surround-PASS feeling NOM do-PST
</p>
<p class="gloss__line--free">
“While replying (to your question), Father and Mother felt like they were surrounded by something heart warming.”
</p>
</div>
</li>
<li>
<style>.gloss__line--original {font-style:normal;font-weight:normal} .gloss__word .gloss__line:first-child {font-style:normal;font-weight:normal} .gloss__word .gloss__line--2 {font-style:normal;font-weight:normal} .gloss__word .gloss__line--3 {font-style:normal;font-weight:normal} .gloss__line--free {font-style:normal;font-weight:normal}</style>
<div data-gloss="">
<p class="gloss__line--original">
(Shindo 2015:660)
</p>
<p>
Ainiku sonna shumi wa nai. Tsumetai-none. Kedaru-souna koe da-tta.
</p>
<p>
unfortunately such interest TOP not.exist cold-EMPH languid-seem voice COP-PST
</p>
<p class="gloss__line--free">
“Unfortunately I never have such an interest. You are so cold. (Her) voice sounded languid.”
</p>
</div>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="many-factories">Many factories?<a class="anchor" aria-label="anchor" href="#many-factories"></a>
</h2>
<p>One of the advantages of a function factory is that you can create a function tailored to the dataset you’re working with here. You don’t need to call your dataset constantly and you save in typing.</p>
<p>In addition, you could have multiple factories in one project. Within a file, you may create a <code>by_label()</code> and a <code>by_cond()</code> functions to work with label and conditional filtering, whatever suits you best at any time. Or you could also have a <code>dutch_gloss()</code> and <code>chinese_gloss()</code>, for example, each using a different dataset!</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mariana Montes.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
