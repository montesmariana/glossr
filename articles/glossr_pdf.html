<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="glossr">
<title>Using the glossr package for PDF • glossr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using the glossr package for PDF">
<meta property="og:description" content="glossr">
<meta property="og:image" content="https://montesmariana.github.io/glossr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">glossr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/glossr.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/glossr_leipzig.html">Using the glossr package with leipzig.js</a>
    <a class="dropdown-item" href="../articles/glossr_pdf.html">Using the glossr package for PDF</a>
    <a class="dropdown-item" href="../articles/glossr_tooltip.html">Using the glossr package with tooltip</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/montesmariana/glossr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="glossr_pdf_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="glossr_pdf_files/leipzig-0.8.0/leipzig.css" rel="stylesheet">
<script src="glossr_pdf_files/leipzig-0.8.0/leipzig.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Using the glossr package for PDF</h1>
                        <h4 data-toc-skip class="author">Mariana Montes</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/montesmariana/glossr/blob/HEAD/vignettes/glossr_pdf.Rmd" class="external-link"><code>vignettes/glossr_pdf.Rmd</code></a></small>
      <div class="d-none name"><code>glossr_pdf.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The {glossr} package offers useful functions to recreate Leipzig glosses in R Markdown texts. The immediate solution for a <span class="math inline">\(LaTeX\)</span> output is to use the {gb4e} library. If that is enough for you, you can still use this package to automatically print them in an R-chunk, avoiding typos, and even generate them automatically from a dataframe with your examples! But chances are, PDF is not enough for you, and you would also like a nice rendering (or at least <em>some</em> rendering) of your interlinear glosses in HTML as well. This offers some challenges, because the way to print them is different, the way to reference them is different, and interlinear glosses are a pain to render in HTML.</p>
<p>I took that pain and packaged it so you don’t need to feel it.</p>
<p>You can start using <code>glossr</code> in a package by calling the library and then <code><a href="../reference/use_glossr.html">use_glossr()</a></code> to activate some background stuff. Mainly, this function informs all the other functions whether you are using <span class="math inline">\(LaTeX\)</span> or HTML and which HTML rendering you’ve chosen. Yes you have a choice! The default one is an implementation of <a href="https://bdchauvette.net/leipzig.js/" class="external-link">leipzig.js</a>, which is awesome because of the neat alignment, the small caps in morphological annotation and the explanatory tooltips when hovering over them. However, they have the negative consequence that the number of your examples will be next to the translation, rather than on the top line, and you probably can’t manipulate the italics on the first line (I haven’t tried, actually). Enter the second option, “tooltip”, which instead of aligning the morphological notation, it adds it as a tooltip over each of the first line words. This gives you more freedom to adapt the formatting and <em>might</em><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;I have to test this.&lt;/p&gt;"><sup>1</sup></a> be more accessible for screen readers.</p>
<p>For the pdf output you might have to install the {gb4e} library with <code>tinytex::tlmgr_install("gb4e")</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://montesmariana.github.io/glossr/">glossr</a></span><span class="op">)</span> <span class="co"># library(glossr)</span>
<span class="fu"><a href="../reference/use_glossr.html">use_glossr</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># options for html: leipzig (default), tooltip</span>
<span class="co">#&gt; Setting up the `leipzig` engine.</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p>When you want to include an example, create a gloss with <code><a href="../reference/gloss_render.html">as_gloss()</a></code> and call it.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_gloss</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gloss_render.html">as_gloss</a></span><span class="op">(</span>
  original <span class="op">=</span> <span class="st">"Hace calor/frío"</span>,
  parsed <span class="op">=</span> <span class="st">"make-3SG-PRS heat/cold-N-A"</span>,
  translation <span class="op">=</span> <span class="st">"'It is hot/cold'"</span>,
  label <span class="op">=</span> <span class="st">"my-label"</span>
<span class="op">)</span>
<span class="va">my_gloss</span></code></pre></div>
<ol class="example" style="list-style-type: decimal">
<li>
<div data-gloss="">
<p>
Hace calor/frío
</p>
<p>
make-3SG-PRS heat/cold-N-A
</p>
<p>
‘It is hot/cold’
</p>
</div>
<script>document.addEventListener('DOMContentLoaded', function() {Leipzig().gloss();});</script>
</li>
</ol>
<p>The label given to <code><a href="../reference/gloss_render.html">as_gloss()</a></code> allows you to cross-reference the example: in PDF this is <code>example (\@ref(my-label))</code>, whereas in HTML this is <code>example (@my-label)</code>. What should YOU do? <code>gloss("my-label")</code> can be used inline to generate a reference for either PDF or HTML, depending on the output of your file: (1) in this case.</p>
<p>If you have many examples, you might want to keep them in their own file, if you don’t have them like that already. <code>glossr</code> offers a small dataset for testing, called <code>data(glosses)</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span> <span class="co"># for select() and filter()</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">glosses</span><span class="op">)</span>
<span class="va">glosses</span> <span class="op">&lt;-</span> <span class="va">glosses</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">original</span>, <span class="va">parsed</span>, <span class="va">translation</span>, <span class="va">label</span><span class="op">)</span>
<span class="va">glosses</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 4</span></span>
<span class="co">#&gt;   original                                              parsed translation label</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mér er heitt/kalt                                     <span style="color: #949494;">"</span>\\te… I am hot/c… feel…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Hace calor/frío                                       <span style="color: #949494;">"</span>make… It is hot/… amb-…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Ik heb het koud                                       <span style="color: #949494;">"</span>\\te… I am cold;… feel…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Kotae-nagara otousan to okaasan wa honobonoto atatak… <span style="color: #949494;">"</span>repl… While repl… hear…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Ainiku sonna shumi wa nai. Tsumetai-none. Kedaru-sou… <span style="color: #949494;">"</span>unfo… Unfortunat… lang…</span></code></pre></div>
<p>Assuming you have them in a table with columns matching the arguments of <code><a href="../reference/gloss_render.html">as_gloss()</a></code>, you can give it to <code><a href="../reference/gloss_render.html">gloss_df()</a></code> directly and it will do the job. This table has more columns than we need, so we will only select the right ones and print the glosses of the first three rows. Note that the values in the “label” column will be used as labels: <code>gloss("feel-icelandic")</code> will return (2).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/gloss_render.html">gloss_df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">glosses</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<ol start="2" class="example" style="list-style-type: decimal">
<li><div data-gloss="">
<p>
Mér er heitt/kalt
</p>
<p>
1SG.DAT COP.1SG.PRS hot/cold.A
</p>
<p>
I am hot/cold.
</p>
</div></li>
<li><div data-gloss="">
<p>
Hace calor/frío
</p>
<p>
make.3SG.PRS heat/cold..N.A
</p>
<p>
It is hot/cold; literally: it makes heat/cold.
</p>
</div></li>
<li><div data-gloss="">
<p>
Ik heb het koud
</p>
<p>
1SG have 3SG COLD.A
</p>
<p>
I am cold; literally: I have it cold.
</p>
</div></li>
</ol>
</div>
<div class="section level2">
<h2 id="pdf-only-features">PDF-only features<a class="anchor" aria-label="anchor" href="#pdf-only-features"></a>
</h2>
<p>This package also offers a few extensions when working on PDF output. On the one hand, <code><a href="../reference/gloss_list.html">gloss_list()</a></code> allows you to nest a list of glosses and have both a reference for the list and for each individual item. <strong>This will not work in HTML</strong>, which will just keep the numbering on the top level. But on PDF, given the function below, we can use <code>gloss("jp")</code> to reference (<span class="citation">@jp</span>), or <code>gloss("heartwarming-jp")</code> and <code>gloss("languid-jp")</code> to reference (5) and (6).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">glosses</span>, <span class="fu"><a href="https://rdrr.io/r/base/startsWith.html" class="external-link">endsWith</a></span><span class="op">(</span><span class="va">label</span>, <span class="st">"jp"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/gloss_render.html">gloss_df</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/gloss_list.html">gloss_list</a></span><span class="op">(</span>listlabel <span class="op">=</span> <span class="st">"jp"</span><span class="op">)</span></code></pre></div>
<ol start="5" class="example" style="list-style-type: decimal">
<li><div data-gloss="">
<p>
Kotae-nagara otousan to okaasan wa honobonoto atatakai2 mono ni tsutsum-areru kimochi ga shi-ta.
</p>
<p>
reply-while father and mother TOP heartwarming warm thing with surround-PASS feeling NOM do-PST
</p>
<p>
While replying (to your question), Father and Mohter felt like they were surrounded by something heart warming.
</p>
</div></li>
<li><div data-gloss="">
<p>
Ainiku sonna shumi wa nai. Tsumetai-none. Kedaru-souna koe da-tta.
</p>
<p>
unfortunately such interest TOP not.exist cold-EMPH languid-seem voice COP-PST
</p>
<p>
Unfortunately I never have such an interest. You are so cold. (Her) voice sounded languid.
</p>
</div></li>
</ol>
<p>Finally, it might be the case that you want to apply <span class="math inline">\(LaTeX\)</span> formatting to a long string of elements for your first lines of glosses, e.g. set half of your example in italics. In order to facilitate applying the same formatting to each individual element, this package offers you <code><a href="../reference/gloss_format_words.html">gloss_format_words()</a></code>, which you can implement to the strings given to <code><a href="../reference/gloss_render.html">as_gloss()</a></code>. Internally, <code>glossr</code> will try to parse <span class="math inline">\(LaTeX\)</span> formatting into HTML one (because I’m assuming your data is prepared for that). In the future this might be different.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/gloss_format_words.html">gloss_format_words</a></span><span class="op">(</span><span class="st">"A long piece of text"</span>, <span class="st">"textit"</span><span class="op">)</span>
<span class="co">#&gt; [1] "\\textit{A} \\textit{long} \\textit{piece} \\textit{of} \\textit{text}"</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_gloss</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gloss_render.html">as_gloss</a></span><span class="op">(</span>
  original <span class="op">=</span> <span class="fu"><a href="../reference/gloss_format_words.html">gloss_format_words</a></span><span class="op">(</span><span class="st">"Hace calor/frío"</span>, <span class="st">"textbf"</span><span class="op">)</span>,
  parsed <span class="op">=</span> <span class="st">"make.3SG.PRS heat/cold.N.A"</span>,
  translation <span class="op">=</span> <span class="st">"'It is hot/cold'"</span>,
  label <span class="op">=</span> <span class="st">"formatted"</span>
<span class="op">)</span>
<span class="va">my_gloss</span></code></pre></div>
<ol start="7" class="example" style="list-style-type: decimal">
<li><div data-gloss="">
<p>
<strong>Hace</strong> <strong>calor/frío</strong>
</p>
<p>
make.3SG.PRS heat/cold.N.A
</p>
<p>
‘It is hot/cold’
</p>
</div></li>
</ol>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mariana Montes.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
